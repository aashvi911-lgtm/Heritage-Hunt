<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Heritage Hunt – Rakhigarhi</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Quicksand:wght@600;700;800&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            cream: "#FFF9F2",
            mint: "#8CD1B0",
            mintLight: "#E3F7EE",
            coral: "#FFB5A7",
            sand: "#E8DFD0",
            cocoa: "#5C544F",
            cocoaLight: "#8A817C"
          },
          fontFamily: {
            display: ["Quicksand", "sans-serif"],
            body: ["DM Sans", "sans-serif"]
          }
        }
      }
    }
  </script>
</head>

<body class="bg-cream text-cocoa font-body min-h-screen flex flex-col">

<!-- HEADER -->
<header class="sticky top-0 z-40 bg-cream/90 backdrop-blur border-b border-sand px-6 py-4">
  <div class="max-w-6xl mx-auto flex justify-between items-center">
    <a href="explore.html" class="flex items-center gap-3">
      <div class="w-10 h-10 bg-mint rounded-xl flex items-center justify-center text-white">
        <span class="material-symbols-outlined">explore</span>
      </div>
      <span class="font-display font-bold text-lg">Heritage Hunt</span>
    </a>
    <a href="explore.html" class="text-sm font-bold text-cocoaLight hover:text-mint">
      ← Back to Map
    </a>
  </div>
</header>

<!-- MAIN -->
<main class="flex-grow max-w-6xl mx-auto px-4 py-10 grid grid-cols-1 lg:grid-cols-12 gap-10">

  <!-- LEFT -->
  <section class="lg:col-span-7 flex flex-col gap-8">

    <!-- HERO IMAGE -->
    <div class="relative rounded-[2.5rem] overflow-hidden shadow-lg aspect-[16/10]">
      <div
        class="absolute inset-0 bg-cover bg-center"
        style="background-image: url('./assets/images/rakhigarhi.jpg');">
      </div>

      <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"></div>

      <div class="absolute top-5 left-5 bg-white/90 px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2">
        <span class="material-symbols-outlined text-coral text-sm">public</span>
        UN SDG 11.4
      </div>
    </div>

    <!-- TITLE -->
    <div>
      <div class="flex items-center gap-2 text-coral text-sm font-bold uppercase tracking-wider">
        <span class="material-symbols-outlined text-base">location_on</span>
        Hisar District, Haryana
      </div>

      <h1 class="text-5xl font-display font-bold mt-2">
        Rakhigarhi
      </h1>
    </div>

    <!-- STORY -->
    <div class="bg-white rounded-[2rem] p-8 shadow border border-sand/40">
      <h3 class="text-xl font-display font-bold flex items-center gap-3 mb-4">
        <span class="material-symbols-outlined text-mint">auto_stories</span>
        The Story
      </h3>

      <p class="text-cocoaLight leading-relaxed font-medium">
        One of the largest Indus Valley Civilization sites, Rakhigarhi reveals
        continuous habitation from the Pre-Harappan to Mature Harappan phases.
        Archaeological findings show advanced urban planning, standardized bricks,
        drainage systems, and long-distance cultural connections.
      </p>
    </div>

    <!-- WHY SPECIAL -->
    <div class="bg-white rounded-[2rem] p-8 shadow border border-sand/40">
      <h3 class="text-xl font-display font-bold flex items-center gap-3 mb-4">
        <span class="material-symbols-outlined text-coral">stars</span>
        Why It’s Special
      </h3>

      <p class="text-cocoaLight leading-relaxed font-medium">
        Rakhigarhi may be larger than Mohenjo-Daro and has provided crucial DNA
        evidence reshaping our understanding of Indus Valley origins, population
        movement, and early urban life in South Asia.
      </p>
    </div>
  </section>

  <!-- RIGHT -->
  <aside class="lg:col-span-5 flex flex-col gap-6">

    <!-- LOCKED -->
    <div id="locked" class="bg-white rounded-[2.5rem] p-8 shadow text-center">
      <span class="material-symbols-outlined text-4xl text-cocoaLight mb-3">lock</span>
      <h3 class="font-display font-bold text-xl">You’re not here yet</h3>
      <p class="text-sm text-cocoaLight mt-2">
        Visit Rakhigarhi to unlock this heritage site.
      </p>
    </div>

    <!-- UNLOCKED -->
    <div id="unlocked" class="hidden bg-gradient-to-b from-white to-mintLight rounded-[2.5rem] p-8 shadow text-center">
      <div class="inline-flex items-center gap-2 bg-mint text-white px-4 py-2 rounded-full text-xs font-bold uppercase tracking-widest mb-6">
        <span class="material-symbols-outlined">lock_open</span>
        Site Unlocked
      </div>

      <div class="w-24 h-24 mx-auto bg-white rounded-full flex items-center justify-center shadow border-4 border-cream text-coral">
        <span class="material-symbols-outlined text-5xl">workspace_premium</span>
      </div>

      <h3 class="font-display text-2xl font-bold mt-4">
        Heritage Guardian
      </h3>
      <p class="text-cocoaLight text-sm mt-2">
        You’ve uncovered one of the most important Indus Valley sites in India.
      </p>
    </div>

  </aside>
</main>

<!-- FOOTER -->
<footer class="border-t border-sand py-6 text-center text-sm text-cocoaLight">
  © 2024 Heritage Hunt · UN SDG 11.4
</footer>

<!-- LOCATION UNLOCK LOGIC -->
<script>
  const SITE_LAT = 29.2896;
  const SITE_LNG = 76.1094;
  const UNLOCK_RADIUS = 500; // meters

  navigator.geolocation.getCurrentPosition(pos => {
    const distance = getDistance(
      pos.coords.latitude,
      pos.coords.longitude,
      SITE_LAT,
      SITE_LNG
    );

    if (distance <= UNLOCK_RADIUS) {
      document.getElementById("locked").style.display = "none";
      document.getElementById("unlocked").style.display = "block";
    }
  });

  function getDistance(lat1, lon1, lat2, lon2) {
    const R = 6371e3;
    const φ1 = lat1 * Math.PI / 180;
    const φ2 = lat2 * Math.PI / 180;
    const Δφ = (lat2 - lat1) * Math.PI / 180;
    const Δλ = (lon2 - lon1) * Math.PI / 180;

    const a =
      Math.sin(Δφ / 2) ** 2 +
      Math.cos(φ1) * Math.cos(φ2) *
      Math.sin(Δλ / 2) ** 2;

    return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  }
</script>

<script>
  const SITE_NAME = "Rakhigarhi"; // CHANGE THIS FOR EACH PAGE

  let visitedSites = JSON.parse(localStorage.getItem("visitedSites")) || [];

  if (!visitedSites.includes(SITE_NAME)) {
    visitedSites.push(SITE_NAME);
    localStorage.setItem("visitedSites", JSON.stringify(visitedSites));
  }
</script>


</body>
</html>
